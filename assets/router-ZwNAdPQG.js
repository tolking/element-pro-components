import{u as p}from"./vue.8fc199ce-BMt5wyEV.js";import{r as l,o as r,a as c,b as n,d as s,e as o}from"./index-By7wvJ5L.js";const u={class:"markdown-body"},i={href:"https://www.npmjs.com/package/@element-plus/icons-vue",class:"md-link",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.npmjs.com/package/bootstrap-icons-vue",class:"md-link",target:"_blank",rel:"noopener noreferrer"},f="路由和菜单",b=[{name:"description",content:"如何配置 element-pro-components 组件库的路由和菜单"},{property:"og:title",content:"路由和菜单"},{name:"twitter:title",content:"路由和菜单"}],E={__name:"router",setup(d,{expose:e}){return e({frontmatter:{title:"路由和菜单",meta:[{name:"description",content:"如何配置 element-pro-components 组件库的路由和菜单"},{property:"og:title",content:"路由和菜单"},{name:"twitter:title",content:"路由和菜单"}]}}),p({title:"路由和菜单",meta:[{name:"description",content:"如何配置 element-pro-components 组件库的路由和菜单"},{property:"og:title",content:"路由和菜单"},{name:"twitter:title",content:"路由和菜单"}]}),(g,t)=>{const a=l("icon-external-link");return r(),c("div",u,[t[3]||(t[3]=n("h1",{id:"路由和菜单",tabindex:"-1"},[s("路由和菜单 "),n("a",{class:"header-anchor md-link",href:"#路由和菜单","aria-hidden":"true"},"#")],-1)),t[4]||(t[4]=n("p",null,[s("默认情况下，布局相关的组件会自动从 "),n("code",null,"vue-router"),s(" 中获取所需要的路由信息")],-1)),t[5]||(t[5]=n("h2",{id:"统一格式",tabindex:"-1"},[s("统一格式 "),n("a",{class:"header-anchor md-link",href:"#统一格式","aria-hidden":"true"},"#")],-1)),t[6]||(t[6]=n("p",null,"meta 类型",-1)),t[7]||(t[7]=n("div",{class:"language-ts"},[n("pre",null,[n("code",{"v-pre":""},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token punctuation"},"{"),s(" Component "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vue'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token string"},"'vue-router'"),s(`

`),n("span",{class:"token keyword"},"declare"),s(),n("span",{class:"token keyword"},"module"),s(),n("span",{class:"token string"},"'vue-router'"),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token keyword"},"interface"),s(),n("span",{class:"token class-name"},"RouteMeta"),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token comment"},"/** the Menu title */"),s(`
    title`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),s(`
    `),n("span",{class:"token comment"},"/** the Menu icon */"),s(`
    icon`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),s(),n("span",{class:"token operator"},"|"),s(` Component
    `),n("span",{class:"token comment"},"/** whether to show in the Menu */"),s(`
    hidden`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"boolean"),s(`
    `),n("span",{class:"token comment"},"/** whether to use ElMenuItemGroup instead of ElSubMenu */"),s(`
    group`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"boolean"),s(`
    `),n("span",{class:"token comment"},"/** the animation name of transition pages */"),s(`
    transition`),n("span",{class:"token operator"},"?"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token builtin"},"string"),s(`
  `),n("span",{class:"token punctuation"},"}"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1)),t[8]||(t[8]=n("p",null,"参考路由",-1)),t[9]||(t[9]=n("div",{class:"language-ts"},[n("pre",null,[n("code",{"v-pre":""},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" markRaw "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vue'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Edit "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@element-plus/icons-vue'"),s(`
`),n("span",{class:"token keyword"},"import"),s(" BaseLayout "),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'../layout/Layout.vue'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token keyword"},"type"),s(),n("span",{class:"token punctuation"},"{"),s(" RouteRecordRaw "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vue-router'"),s(`

`),n("span",{class:"token keyword"},"const"),s(" routes"),n("span",{class:"token operator"},":"),s(" RouteRecordRaw"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),s(`
  `),n("span",{class:"token punctuation"},"{"),s(`
    path`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/dev/'"),n("span",{class:"token punctuation"},","),s(`
    redirect`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/dev/Layout'"),n("span",{class:"token punctuation"},","),s(`
    component`),n("span",{class:"token operator"},":"),s(" BaseLayout"),n("span",{class:"token punctuation"},","),s(`
    meta`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(" title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Development'"),n("span",{class:"token punctuation"},","),s(" icon"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token function"},"markRaw"),n("span",{class:"token punctuation"},"("),s("Edit"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    children`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        path`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/dev/Layout'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token function-variable function"},"component"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"import"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'../views/Layout.vue'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        meta`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(" title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Layout'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        path`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/dev/Table'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token function-variable function"},"component"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"import"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'../views/Table.vue'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        meta`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(" title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Table'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        path`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/dev/Form'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token function-variable function"},"component"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"import"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'../views/Form.vue'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        meta`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(" title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Form'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"{"),s(`
        path`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/dev/Crud'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token function-variable function"},"component"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=>"),s(),n("span",{class:"token keyword"},"import"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'../views/Crud.vue'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
        meta`),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(" title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Crud'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"]"),s(`

`),n("span",{class:"token keyword"},"export"),s(),n("span",{class:"token keyword"},"default"),s(` routes
`)])])],-1)),t[10]||(t[10]=n("h2",{id:"配置-icon",tabindex:"-1"},[s("配置 icon "),n("a",{class:"header-anchor md-link",href:"#配置-icon","aria-hidden":"true"},"#")],-1)),t[11]||(t[11]=n("p",null,"组件库内部直接将 icon 渲染成一个组件，所以你可以定义为任意图标组件",-1)),t[12]||(t[12]=n("p",null,"安装需要的图标组件库",-1)),n("ul",null,[n("li",null,[n("a",i,[t[0]||(t[0]=s("@element-plus/icons-vue")),o(a,{class:"link-icon"})])]),n("li",null,[n("a",k,[t[1]||(t[1]=s("bootstrap-icons-vue")),o(a,{class:"link-icon"})])]),t[2]||(t[2]=n("li",null,"等",-1))]),t[13]||(t[13]=n("p",null,"下面使用 @element-plus/icons-vue 举例",-1)),t[14]||(t[14]=n("div",{class:"language-"},[n("pre",null,[n("code",{"v-pre":""},`yarn add @element-plus/icons-vue
# 或者
npm install @element-plus/icons-vue
`)])],-1)),t[15]||(t[15]=n("ul",null,[n("li",null,"全局注册")],-1)),t[16]||(t[16]=n("div",{class:"language-js"},[n("pre",null,[n("code",{"v-pre":""},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Edit "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@element-plus/icons-vue'"),s(`

app`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"component"),n("span",{class:"token punctuation"},"("),s("Edit"),n("span",{class:"token punctuation"},"."),s("name"),n("span",{class:"token punctuation"},","),s(" Edit"),n("span",{class:"token punctuation"},")"),s(`
`)])])],-1)),t[17]||(t[17]=n("div",{class:"language-js"},[n("pre",null,[n("code",{"v-pre":""},[n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'admin'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/admin'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"component"),n("span",{class:"token operator"},":"),s(" Layout"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"meta"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Admin'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"icon"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'edit'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1)),t[18]||(t[18]=n("ul",null,[n("li",null,"直接使用")],-1)),t[19]||(t[19]=n("div",{class:"language-js"},[n("pre",null,[n("code",{"v-pre":""},[n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" markRaw "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'vue'"),s(`
`),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token punctuation"},"{"),s(" Edit "),n("span",{class:"token punctuation"},"}"),s(),n("span",{class:"token keyword"},"from"),s(),n("span",{class:"token string"},"'@element-plus/icons-vue'"),s(`
`),n("span",{class:"token comment"},"// ..."),s(`
`),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'admin'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/admin'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"component"),n("span",{class:"token operator"},":"),s(" Layout"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"meta"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Admin'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token literal-property property"},"icon"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token function"},"markRaw"),n("span",{class:"token punctuation"},"("),s("Edit"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
`)])])],-1)),t[20]||(t[20]=n("h2",{id:"异步路由",tabindex:"-1"},[s("异步路由 "),n("a",{class:"header-anchor md-link",href:"#异步路由","aria-hidden":"true"},"#")],-1)),t[21]||(t[21]=n("p",null,[s("组件只能够获取定义在 "),n("code",null,"vue-router"),s(" 中的原始路由信息，不能够获取动态增加的路由。当使用异步生成的动态路由时，虽然可以通过 "),n("code",null,"routes"),s(" 向组件中传值，但更推荐通过通过下面方式动态增加。只需要保持 "),n("code",null,"router.options.routes"),s(" 同最终动态增加的路由相同即可")],-1)),t[22]||(t[22]=n("div",{class:"language-js"},[n("pre",null,[n("code",{"v-pre":""},[n("span",{class:"token keyword"},"const"),s(" newRoute "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
  `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'admin'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'/admin'"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"component"),n("span",{class:"token operator"},":"),s(" Layout"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"meta"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Admin'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token literal-property property"},"children"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"["),s(`
    `),n("span",{class:"token punctuation"},"{"),s(`
      `),n("span",{class:"token literal-property property"},"path"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'settings'"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"component"),n("span",{class:"token operator"},":"),s(" AdminSettings"),n("span",{class:"token punctuation"},","),s(`
      `),n("span",{class:"token literal-property property"},"meta"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token punctuation"},"{"),s(),n("span",{class:"token literal-property property"},"title"),n("span",{class:"token operator"},":"),s(),n("span",{class:"token string"},"'Settings'"),s(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
  `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
`),n("span",{class:"token punctuation"},"}"),s(`
router`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"addRoute"),n("span",{class:"token punctuation"},"("),s("newRoute"),n("span",{class:"token punctuation"},")"),s(`
router`),n("span",{class:"token punctuation"},"."),s("options"),n("span",{class:"token punctuation"},"."),s("routes"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),s("newRoute"),n("span",{class:"token punctuation"},")"),s(`
`)])])],-1)),t[23]||(t[23]=n("h2",{id:"路由权限",tabindex:"-1"},[s("路由权限 "),n("a",{class:"header-anchor md-link",href:"#路由权限","aria-hidden":"true"},"#")],-1)),t[24]||(t[24]=n("p",null,"当前组件是不支持路由权限验证的，你需要手动增加",-1)),t[25]||(t[25]=n("p",null,[s("比如：通过 "),n("a",{href:"#%E5%BC%82%E6%AD%A5%E8%B7%AF%E7%94%B1",class:"md-link"},"异步路由"),s(" 的方式，在增加生成或增加路由时去除没有访问权限的路由信息")],-1)),t[26]||(t[26]=n("p",null,[s("或者：在 "),n("code",null,"router.beforeEach"),s(" 中进行跳转验证")],-1)),t[27]||(t[27]=n("p",null,"当然也可以结合两者使用",-1))])}}};export{E as default,b as meta,f as title};
